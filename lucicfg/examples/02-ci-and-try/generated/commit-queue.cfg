# Auto-generated by lucicfg.
# Do not modify manually.
#
# For the schema of this file, see Config message:
#   https://config.luci.app/schemas/projects:commit-queue.cfg

cq_status_host: "chromium-cq-status.appspot.com"
config_groups {
  name: "Main CQ"
  gerrit {
    url: "https://my-awesome-host-review.googlesource.com"
    projects {
      name: "my/awesome/repo"
      ref_regexp: "refs/heads/main"
    }
  }
  verifiers {
    gerrit_cq_ability {
      committer_list: "my-awesome-project-committers"
      dry_run_access_list: "my-awesome-project-tryjob-access"
    }
    tryjob {
      builders {
        name: "my-awesome-project/try/bionic"
      }
      builders {
        name: "my-awesome-project/try/mac-10.13"
      }
      builders {
        name: "my-awesome-project/try/win-32"
      }
      builders {
        name: "my-awesome-project/try/win-64"
      }
      builders {
        name: "my-awesome-project/try/xenial"
      }
      retry_config {
        single_quota: 1
        global_quota: 2
        failure_weight: 100
        transient_failure_weight: 1
        timeout_weight: 100
      }
    }
  }
  user_limits {
    name: "user_limits_for_foo_and_bar"
    principals: "user:foo@example.com"
    principals: "group:bar"
    run {
      max_active {
        value: 60
      }
    }
  }
  user_limits {
    name: "user_limits_for_committers"
    principals: "group:committers"
    run {
      max_active {
        value: 20
      }
    }
  }
  user_limits {
    name: "user_limits_for_third_party_devs"
    principals: "user:partner_1@example.com"
    principals: "user:partner_2@example.com"
    principals: "group:third_party_devs_all"
    run {
      max_active {
        unlimited: true
      }
    }
  }
  user_limit_default {
    name: "default_user_quota"
    run {
      max_active {
        unlimited: true
      }
    }
  }
  post_actions {
    name: "dry-run_verification_label"
    conditions {
      mode: "DRY_RUN"
      statuses: SUCCEEDED
    }
    vote_gerrit_labels {
      votes {
        name: "CQ-Verified"
        value: 1
      }
    }
  }
  post_actions {
    name: "any-run-failures-and-cancellations"
    conditions {
      mode: "DRY_RUN"
      statuses: FAILED
      statuses: CANCELLED
    }
    conditions {
      mode: "FULL_RUN"
      statuses: FAILED
      statuses: CANCELLED
    }
    conditions {
      mode: "NEW_PATCHSET_RUN"
      statuses: FAILED
      statuses: CANCELLED
    }
    vote_gerrit_labels {
      votes {
        name: "Code-Review"
        value: -1
      }
      votes {
        name: "CQ-Verified"
      }
    }
  }
  tryjob_experiments {
    name: "infra.experiment.internal"
    condition {
      owner_group_allowlist: "googler"
      owner_group_allowlist: "bot-accounts"
    }
  }
  tryjob_experiments {
    name: "infra.experiment.public"
  }
}
